(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15],{41344:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/clusters/list",function(){return s(58788)}])},32890:function(t,e,s){"use strict";s.d(e,{X:function(){return ErrorPageContainer}});var l=s(85893);s(67294);var r=s(96497);let ErrorPageContainer=t=>{let{children:e,css:s={}}=t;return(0,l.jsxs)(r.W2,{css:{borderRadius:0,marginTop:"$7xl",...s},children:[(0,l.jsx)(r.xv,{variant:"h4",children:"Error \uD83D\uDE25"}),(0,l.jsx)(r.xv,{variant:"body",children:e})]})}},58788:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return list}});var l=s(85893),r=s(96497),o=s(11163),n=s(30272),i=s(67294),a=s(62880),c=s(2543),u=s(35292),d=s(32890);let h=[{accessorKey:"clusterDisplay",header:"Cluster",sortable:!0,sortAccessor:t=>t.cluster},{accessorKey:"validators",header:"Validators",sortable:!0},{accessorKey:"operators",header:"Operators",sortable:!0}],ClusterListTable=t=>{var e,s;let{operator:o,setTotalClusters:a,setTotalValidators:v}=t,{isLoading:x,error:p,clusterDefinitionData:f,lockData:_}=(0,u.Hq)(o),{provider:g}=(0,u.kR)(),m=(null==_?void 0:null===(e=_.cluster_locks)||void 0===e?void 0:e.map(t=>{var e,s,o,n;return{id:t._id,clusterDisplay:(0,l.jsx)(r.rU,{href:"/clusters/details/?lockHash=".concat(t.lock_hash),children:t.cluster_definition.name}),cluster:t.cluster_definition.name,validators:null===(s=t.cluster_definition)||void 0===s?void 0:null===(e=s.validators)||void 0===e?void 0:e.length,operators:null===(n=t.cluster_definition)||void 0===n?void 0:null===(o=n.operators)||void 0===o?void 0:o.length}}))||[],j=(null==_?void 0:_.cluster_locks.map(t=>t.cluster_definition.config_hash))||[],b=null==f?void 0:null===(s=f.cluster_definitions)||void 0===s?void 0:s.filter(t=>!(null==j?void 0:j.includes(t.config_hash))),C=(null==b?void 0:b.map(t=>{var e,s;let o=t.operators.every(t=>""===t.address),i=o?"/solo/create-cluster/?configHash=".concat(t.config_hash,"&fromList=true"):"/dv/?configHash=".concat(t.config_hash);return{id:t._id,clusterDisplay:(0,l.jsx)(r.rU,{href:i,children:t.name}),cluster:t.name,status:(0,l.jsx)(r.HV,{textVariant:"body",status:(0,n.yc)(t)}),validators:null==t?void 0:null===(e=t.validators)||void 0===e?void 0:e.length,operators:null==t?void 0:null===(s=t.operators)||void 0===s?void 0:s.length}}))||[];return((0,i.useEffect)(()=>{if(v&&v((null==_?void 0:_.total_count)||0),a){let t=(null==C?void 0:C.length)+(null==j?void 0:j.length);t>0&&a(t)}},[_,f,a,v]),o||x||g)?x?(0,l.jsx)(r.xv,{children:"Loading..."}):p?(0,l.jsx)(r.xv,{children:"Error | no data"}):(null==f?void 0:f.total_count)||(null==_?void 0:_.total_count)||x?(0,l.jsx)(c.g_,{css:{".table-container":{"@sm":{width:"694px"}}},children:(0,l.jsx)(r.Nk,{tabs:[{title:"Clusters",count:null==_?void 0:_.total_count,tableProps:{columns:h,rows:m}},{title:"Invites",count:null==C?void 0:C.length,tableProps:{columns:h,rows:C}}]})}):(0,l.jsx)(r.xv,{children:"No clusters"}):(0,l.jsxs)(d.X,{css:{marginTop:"$lg"},children:["Operator not found. Please ensure your wallet is connected or verify that the ",(0,l.jsx)("code",{children:"walletAddress"})," parameter in the URL is correctly set to list the clusters."]})};var v=s(55424),x=s(90474);let p=(0,r.zo)(r.kC,{flexDirection:"column",width:"auto",gap:"$2xl",px:"10%",py:"$5xl","@sm":{px:"10%",pb:"$5xl",pt:"$xl"}});var list=()=>{let t=(0,o.useRouter)(),e=(0,n.xs)(t,"walletAddress"),{address:s}=(0,v.m)(),{data:c}=(0,x.F)({address:e||s}),[u,d]=(0,i.useState)(0),[h,f]=(0,i.useState)(0),_=h-u;return(0,l.jsxs)(p,{children:[(0,l.jsx)(r.kC,{direction:"column",css:{gap:"$xxs"},children:(0,l.jsx)(r.xv,{variant:"h3",children:c||(0,a.zN)(e,[2,10],5)})}),(0,l.jsxs)(r.kC,{css:{gap:"$lg","@sm":{flexDirection:"column"}},children:[(0,l.jsx)(r.gK,{heading:"Clusters",content:h||"0",tooltipContent:"The number of clusters that this user operates"}),(0,l.jsx)(r.gK,{heading:"Validators",content:u||"0",tooltipContent:"The number of validators in all of this operators clusters"}),(0,l.jsx)(r.gK,{heading:"Invites",content:_>=0?_:"0",tooltipContent:"The number of cluster invites sent to this operator"})]}),(0,l.jsx)(ClusterListTable,{setTotalClusters:t=>{f(t)},setTotalValidators:t=>{d(t)},operator:e||s})]})}}},function(t){t.O(0,[774,888,179],function(){return t(t.s=41344)}),_N_E=t.O()}]);