(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[591],{18425:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/migrate-cluster/config-cluster",function(){return r(20942)}])},20942:function(e,s,r){"use strict";r.r(s);var i=r(85893),t=r(67294),n=r(87536),l=r(96497),d=r(2543),o=r(35292),c=r(84496),a=r(11163),u=r(30272),f=r(26618),p=r(33147),g=r(55424),m=r(75186);let ConfigCluster=()=>{let e=(0,c.o)(e=>e.clusterDefinition),{control:s,register:r,handleSubmit:h,formState:{errors:C,isDirty:x,isValid:A},setValue:R,trigger:S}=(0,n.cI)({mode:"onChange",defaultValues:{feeRecipientAddress:"",name:""}}),_=(0,a.useRouter)(),j=(0,c.o)(e=>e.completeMigrateClusterStep),v=(0,c.o)(e=>e.enableMigrateClusterStep),E=(0,c.o)(e=>e.updateClusterDefinition),{address:k}=(0,g.m)(),[N,b]=(0,t.useState)((null==e?void 0:e.clusterSize)||p.dd),D=(0,o.D9)(N),[w,y]=(0,t.useState)();return(0,t.useEffect)(()=>{if(N){let e=(0,u.zT)(N);y(e)}},[D,N]),(0,t.useEffect)(()=>{R("singleAddress",null==e?void 0:e.singleAddress),R("feeRecipientAddress",null==e?void 0:e.feeRecipientAddress),(null==e?void 0:e.name)&&R("name",null==e?void 0:e.name,{shouldDirty:!0,shouldValidate:!0})},[]),(0,i.jsxs)(l.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,i.jsx)(l.xv,{variant:"h3",children:"Configure Cluster"}),(0,i.jsx)(d.l0,{onSubmit:h(e=>{j("config-cluster-migrate"),E({...e,creator:{address:m.ADDRESS_ZERO},operators:Array(N).fill({address:""}),validators:[,].fill({feeRecipientAddress:e.feeRecipientAddress,withdrawalAddress:m.ADDRESS_ZERO})});let s=v("confirm-configuration-migrate");_.push(s.href)}),children:(0,i.jsxs)(l.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,i.jsx)(l.W2,{className:"cluster-details",alignItems:"start",children:(0,i.jsx)(l.kC,{direction:"column",css:{gap:"$2xl"},children:(0,i.jsx)(f.PQ,{register:r,clusterSize:N,setClusterSize:b,control:s,min:Number(p.Gb)})})}),(0,i.jsx)(l.W2,{className:"fee-recipient-section",css:{gap:"$xl"},alignItems:"start",children:(0,i.jsx)(f.AN,{control:s,trigger:S,errors:C,handleOnSetAddress:e=>{e.preventDefault(),R("feeRecipientAddress",k),S("feeRecipientAddress")},heading:"Fee Recipient",description:"Address to receive transaction fees from block proposals.",fieldName:"feeRecipientAddress"})}),(0,i.jsx)(l.kC,{direction:"column",children:(0,i.jsx)(l.zx,{color:"primary",type:"submit",disabled:!k||!A||!x,children:"Create Cluster Configuration"})})]})})]})};s.default=ConfigCluster,ConfigCluster.layout="MigrateProgressTrackerLayout"}},function(e){e.O(0,[774,888,179],function(){return e(e.s=18425)}),_N_E=e.O()}]);