(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[666],{26843:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/solo/confirm-configuration",function(){return t(27211)}])},27211:function(e,n,t){"use strict";t.r(n);var o=t(85893),i=t(2543),r=t(96497),s=t(84496),a=t(87536),c=t(35292),l=t(30272),u=t(31431),f=t(11163),d=t(67294);t(33147);var h=t(26618),g=t(54579);let ConfirmConfiguration=()=>{let{account:e,provider:n,chainId:t}=(0,c.kR)(),{handleSubmit:m}=(0,a.cI)({mode:"onChange"}),C=(0,f.useRouter)(),[x,p]=(0,d.useState)(),[_,S]=(0,d.useState)(!1),[j,k]=(0,d.useState)(),[E,v]=(0,d.useState)(),w=(0,s.o)(e=>e.clusterDefinition),y=(0,s.o)(e=>e.setClusterDefinitionData),b=(0,s.o)(e=>e.completeSoloStep),N=(0,s.o)(e=>e.enableSoloStep),clearState=()=>{p(null),k(null),v(null),S(!1)},catchError=e=>{console.log(e),clearState()};if((0,d.useEffect)(()=>{if(x){let creatorConfigHash=async()=>{let o={creator_config_hash:x.config_hash},i=await (0,l.L6)(n,t,e,o);v(i)};creatorConfigHash()}},[x]),(0,d.useEffect)(()=>{if(E&&x){let postCall=async()=>{let e=await (0,u.c0)({token:E,data:x});if(!e.data.config_hash)throw"no config hash returned";k(e.data.config_hash),y(e.data)};postCall().catch(catchError)}},[E,x]),(0,d.useEffect)(()=>{if(j){b("confirm-configuration");let e=N("create-cluster");S(!1),C.push({pathname:e.href,query:{configHash:j}})}},[j]),!w)return(0,o.jsx)(r.xv,{children:"No cluster data ..."});let onSubmit=async()=>{let e=(0,l.KH)(w,"v1.7.0");p(e),S(!0)};return(0,o.jsxs)(r.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,o.jsx)(r.xv,{variant:"h3",children:"Confirm Configuration"}),(0,o.jsx)(i.l0,{onSubmit:m(onSubmit),children:(0,o.jsxs)(r.kC,{direction:"column",css:{gap:"$2xl"},children:[(0,o.jsx)(r.W2,{className:"cluster-details",alignItems:"start",children:(0,o.jsx)(r.kC,{direction:"column",css:{gap:"$2xl"},children:(0,o.jsx)(h.uo,{})})}),(0,o.jsx)(h.XD,{}),(0,o.jsx)(g.EJ,{singleAddress:null==w?void 0:w.singleAddress,feeRecipientAddress:null==w?void 0:w.feeRecipientAddress}),(0,o.jsx)(r.kC,{direction:"column",children:(0,o.jsx)(r.zx,{color:"primary",type:"submit",css:{"& div":{m:0}},children:(0,o.jsxs)(o.Fragment,{children:[_&&(0,o.jsx)(r.yC,{}),"Confirm and Sign"]})})})]})})]})};n.default=ConfirmConfiguration,ConfirmConfiguration.layout="SoloProgressTrackerLayout"}},function(e){e.O(0,[774,888,179],function(){return e(e.s=26843)}),_N_E=e.O()}]);